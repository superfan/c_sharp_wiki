
# 方法和参数

## 命名空间

* 命名空间是一种分类机制，用于组合功能相关的所有类型。
* 命名空间是分级的，一般从公司名开始，然后是产品名，最后是功能领域。
* 要为命名空间使用Pascal大小写风格。
* 将源代码的文件目录结构组织成与命名空间的层次结构相匹配的形式。
* C#不允许在using指令中使用通配符，每个命名空间都必须显示地导入。
* 可以利用using指令为命名空间或类型取一个别名。

## 方法的参数

### 值参数

* 如果以传值方式传递一个引用类型的变量，引用（地址）本身会从调用者复制给方法参数。其结果就是，虽然目标方法更改不了调用者变量的值，即更改不了引用（地址）本身，但可以更改引用所指向的数据。
* 对于值类型，参数获得的是值得副本，所以在被调用的方法中更改参数不会影响调用者的原始变量。


### 引用参数(ref)

* 这个关键字使参数以传引用的方式传递，使被调用的方法可以用新值来更新调用者的变量。
* 如果被调用的方法将参数指定为ref，那么调用者在调用这个方法的时候，提供的实参必须是附件了ref前缀的变量。
* 调用者应该对传引用的变量进行初始化，因为目标方法可能直接从ref参数读取数据而不先对其进行赋值。
```
string first = "hello";
string second = "world";
swap(ref first, ref second);
void swap(ref string x, ref string y)
{
    string temp = x;
    x = y;
    y = temp;
}
```

### 输出参数(out)

* 方法获取一个变量的引用，并且只向变量中写入而不从中读取。
* out参数在功能上和ref参数完全一致，唯一的区别是，C#语言对别名变量的读写有不同的规定。如果参数被标记成out，编译器会核实在方法所有正常返回的代码路径(不抛出异常的代码路径)中，是否都对该参数进行了赋值。
* 每个正常返回的代码路径都必须对所有out参数进行赋值。


### 参数数组(params)

* 允许在调用方法时提供数量可变得参数，而不是由方法事先固定好参数数量。
* 参数数组不一定是方法的唯一参数，但必须是方法声明中的最后一个参数。由于只有最后一个参数才可能是参数数组，所以方法最多只能有一个参数数组。
* 调用者可以指定和参数数组对应的零个实参，这会造成传递的参数数组包含零个数据项。
* 参数数组是类型安全的，实参的类型必须兼容与参数数组中元素的类型。
* 调用者可以显式地使用数组，而不是以逗号分隔的参数列表，最终生成的CIL代码是一样的。
* 假如目标方法的实现要求一个最起码的参数数量，必须在方法声明中显式指定参数。如: int Max(int first, params int[] operands)。